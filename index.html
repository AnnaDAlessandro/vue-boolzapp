<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boolzapp</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <div id="app" class="container py-5">
        <div class="row h-100">
         <div class="col-4 border g-0 d-flex flex-column" id="part-left">
           <div class="d-flex align-items-center justify-content-between p-2" >
            <div class="d-flex align-items-center gap-2">
            <figure id="avatar-io">
                <img src="img/avatar_io.jpg" alt="">
             </figure>
             <span>Sofia</span>  
            </div>
            <div class="d-flex gap-2">
                <i class="fa-solid fa-circle-notch"></i>
                <i class="fa-solid fa-message"></i>
                <i class="fa-solid fa-ellipsis-vertical"></i>

            </div>
           
           </div>
           <div class="d-flex p-2 gap-2" id="notifiche">
            <span class="d-flex align-items-center justify-content-center" id="bell">
                <i class="fa-solid fa-bell-slash"></i>
            </span>
            <div id="attiva-notifiche">
                <h6>Ricevi notifiche di nuovi messaggi</h6>
                <span>Attiva notifiche Desktop</span>
            </div>
           </div>
           <div class="p-2">
            <div class="input-group">
                <span class="input-group-text" id="basic-addon1">
                <i class="fa-solid fa-magnifying-glass"></i></span>
                <input type="text" 
                class="form-control" 
                placeholder="Cerca o inizia una nuova chat" 
                aria-label="Username" 
                aria-describedby="basic-addon1">
              </div>
              
           </div>
           <div id="chat" 
           class="d-flex flex-grow-1 border overflow-y-scroll">
           <div class="w-100">
            <div 
            v-for="(element,index) in contacts"
            @click="changeChat(index)"
            class=" d-flex justify-content-between ">
              <div class="d-flex p-2 gap-2 ">
                
                <figure class="" id="avatar" >
                    <img :src="`./img/avatar${element.avatar}.jpg`" alt="">
                </figure>

                <div id="ultimo-messaggio">
                    <h5>{{element.name}}</h5>
                    <span>{{element.messages[element.messages.length-1].message}}</span>
                    
                </div>
            
            </div>
            <div class="d-flex ms-auto  p-2" id="orario-accesso">
            <span>{{element.messages[element.messages.length-1].date}}</span>
            </div> 
            </div>
           </div>
           
            
            
           
          
            </div>
                 
    </div>
         <div class="col-8 border g-0 d-flex flex-column" id="part-right">
          <div class="d-flex align-items-center justify-content-between">
          <div class="d-flex align-items-center gap-2 p-2">
                <figure id="avatar-2">
                    <img :src="`./img/avatar${contacts[activeChat].avatar}.jpg`" alt="">
                 </figure>
                 <div id="ultimo-accesso">
                 <h6>{{contacts[activeChat].name}}</h6> 
                 <span>Ultimo accesso oggi alle 12</span>  
                 </div>
              
         </div>
         <div class="d-flex gap-2 p-2">
            <i class="fa-solid fa-magnifying-glass"></i>
            <i class="fa-solid fa-paperclip"></i>
            <i class="fa-solid fa-ellipsis-vertical"></i>

        </div> 
    </div>
    <div class="d-flex flex-column flex-grow-1 overflow-y-scroll p-2 gap-2" id="col-right-chat">
    <div class="d-flex d-flex flex-column flex-grow-1 gap-2"> 
        <div
        v-for="(element,index) in contacts[activeChat].messages"
        :class="(element.status === 'sent') ? 'sent ms-auto' :
        'received bg-light w-25'" 
        class="rounded position-relative ">
            <p class="g-0 m-2">
                {{element.message}}
            </p>
            <div class="d-flex justify-content-end">
                <span class="m-1">
                    {{element.date}}
                </span>
            </div>
        </div> 
    </div>
        

    </div>
   
        
          
          <div class="input-group p-2 g-0">
            <span class="input-group-text"><i class="fa-regular fa-face-smile"></i></span>
            <input type="text" 
            @keyUp.enter="newMessage"
            v-model="newText"
            class="form-control" 
            placeholder="Scrivi un messaggio"
            id="new-message"
            aria-label="Amount (to the nearest dollar)">
            <span class="input-group-text"><i class="fa-solid fa-microphone"></i></span>
          </div>
          
    </div>
            
        
      
        




   
    </div>
</div>

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@3"></script>
    <script src="main.js"></script>
</body>
</html>